{% set role = session.get("user_role") %} {% set username =
session.get("username") or "Usuario" %} {% set active = active or "" %}

<div class="flex flex-col h-full">
  <div class="hidden md:flex p-6 border-b border-white/5 items-center gap-3">
    <img
      src="../../static/images/logo_gym.jpeg"
      alt="Logo"
      class="w-20 h-20 object-contain"
    >

    <p class="text-[10px] uppercase tracking-widest text-secondary font-semibold">
      Functional
    </p>
  </div>


  <nav class="flex-1 px-4 py-6 space-y-2 overflow-x-hidden">
    {% if role == "admin" %}
    <a
      href="{{ url_for('web.admin_dashboard') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='admin_dashboard' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">dashboard</span>
      Dashboard
    </a>

    <a
      href="{{ url_for('web.admin_cajeros') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='admin_cajeros' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">point_of_sale</span>
      Cajeros
    </a>

    <a
      href="{{ url_for('web.admin_horarios') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='admin_horarios' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">calendar_today</span>
      Horarios
    </a>

    <a
      href="{{ url_for('web.admin_usuarios') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='admin_usuarios' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">group</span>
      Usuarios
    </a>

    <a
      href="{{ url_for('web.admin_entrenadores') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='admin_entrenadores' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">exercise</span>
      Entrenadores
    </a>

    <a
      href="{{ url_for('web.admin_clientes') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='admin_clientes' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">person_outline</span>
      Clientes
    </a>

    <a
      href="{{ url_for('web.admin_ventas_listado') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='admin_ventas' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">receipt_long</span>
      Ventas
    </a>

    <a
      href="{{ url_for('web.admin_publicidad') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='admin_publicidad' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">campaign</span>
      Publicidad
    </a>
    {% endif %} {% if role == "cajero" %}
    <a
      href="{{ url_for('web.cajero_dashboard') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='cajero_dashboard' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">dashboard</span>
      Panel
    </a>

    <a
      href="{{ url_for('web.cajero_renovar') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='cajero_renovar' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">autorenew</span>
      Renovar suscripción
    </a>

    <a
      href="{{ url_for('web.horarios_publico', view='week') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='horario' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">calendar_today</span>
      Horario
    </a>

    <a
      href="{{ url_for('web.cajero_clientes') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='cajero_clientes' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">group</span>
      Clientes
    </a>
    {% endif %} {% if role == "entrenador" %}
    <a
      href="{{ url_for('web.entrenador_dashboard') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='entrenador_dashboard' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">dashboard</span>
      Panel
    </a>

    <a
      href="{{ url_for('web.horarios_publico', view='week') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='horario' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">calendar_today</span>
      Horario / Clases
    </a>

    <a
      href="{{ url_for('web.entrenador_mis_alumnos') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='entrenador_mis_alumnos' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">group</span>
      Mis alumnos
    </a>
    {% endif %} {% if role == "cliente" %} {% if session.get("membresia_activa")
    %}
    <a
      href="{{ url_for('web.cliente_dashboard') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='cliente_dashboard' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">dashboard</span>
      Mi panel
    </a>

    <a
      href="{{ url_for('web.horarios_publico', view='week') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='horario' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">calendar_today</span>
      Horario
    </a>

    <a
      href="{{ url_for('web.cliente_membresia') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='cliente_membresia' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">badge</span>
      Mi membresía
    </a>

    <a
      href="{{ url_for('web.cliente_progreso') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='cliente_progreso' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">trending_up</span>
      Mi Progreso
    </a>
    {% else %}
    <a
      href="{{ url_for('web.cliente_membresia') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-all {% if active=='cliente_membresia' %}sidebar-item-active text-white rounded-r-lg{% else %}text-secondary hover:text-white hover:bg-white/5{% endif %}"
    >
      <span class="material-symbols-outlined">badge</span>
      Mi membresía
    </a>
    {% endif %} {% endif %}
  </nav>

  <div class="p-4 border-t border-white/5 space-y-1">
    {# Configuración (siempre visible por rol, ajusta si quieres) #} {% if role
    in ["admin","cajero","entrenador","cliente"] %}
    <a
      href="{% if role=='admin' %}{{ url_for('web.admin_configuracion') }}
                {% elif role=='cajero' %}{{ url_for('web.cajero_config') }}
                {% elif role=='entrenador' %}{{ url_for('web.entrenador_configuracion') }}
                {% else %}{{ url_for('web.cliente_config') }}{% endif %}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium text-secondary hover:text-white hover:bg-white/5 rounded-lg transition-all"
    >
      <span class="material-symbols-outlined">settings</span>
      Configuración
    </a>
    {% endif %}

    <a
      href="{{ url_for('web.logout') }}"
      class="flex items-center gap-3 px-4 py-3 text-sm font-medium text-red-400 hover:bg-red-400/10 rounded-lg transition-all"
    >
      <span class="material-symbols-outlined">logout</span>
      Cerrar Sesión
    </a>
  </div>
</div>
